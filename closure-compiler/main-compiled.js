iro.use(iroTransparencyPlugin);var $get=document.querySelector.bind(document),getBody=$get("body"),getFont=$get(".fontStyle"),getEmail=$get(".email"),getPwd=$get(".pwd"),failCount=0,colorPicker=new iro.ColorPicker("#color-picker-container",{color:"#00000044",transparency:!0,borderWidth:4,borderColor:"#FB9500"});colorPicker.on(["color:init","color:change"],function(a){$get(".overlay").style.backgroundColor=a.rgbaString});
function toggleVisibility(a,b){"visible"===b?$get(a).style.visibility="visible":$get(a).style.visibility="hidden"}function randomiseColour(a){a=$get(a);var b=Math.floor(16777215*Math.random()).toString(16);"#"+b===a.backgroundColor?randomiseColour():(a.style.backgroundColor="#"+b+"66",colorPicker.color="#"+b)}
getBody.onload=function realTimeClock(){var b=new Date,d=b.getHours(),e=b.getMinutes();b=b.getSeconds();d=("0"+d).slice(-2);e=("0"+e).slice(-2);b=("0"+b).slice(-2);$get(".realTimeClock").innerHTML=d+" : "+e+" : "+b;setInterval(realTimeClock,1E3)};getFont.onchange=function(){var a="body .email .pwd .btn .col_btn .randomise .close .reset".split(" ");for(i=0;i<a.length;i++)$get(a[i]).style.fontFamily=getFont.value};
function validateReg(){var a=getEmail.value.toString().toLowerCase(),b=getPwd.value.toString();!0===/^[A-Za-z_0-9]*$/.test(a)&&3<a.length&&3<b.length?(document.cookie="email="+a,document.cookie="password="+b,localStorage.setItem("email",a+"@outlook.com"),localStorage.setItem("password",b),location.href="login.html"):(getEmail.value="",getEmail.placeholder="Only letters and numbers",getPwd.value="",getPwd.placeholder="Greater than 3 characters",$get(".overlay").style.backgroundColor="#FF150044",setTimeout(function(){$get(".overlay").style.backgroundColor=
"#00000044"},1500))}
function validateLogin(){var a=localStorage.getItem("email"),b=localStorage.getItem("password"),d=getEmail.value.toString().toLowerCase(),e=getPwd.value.toString();a===d&&b===e?($get(".overlay").style.backgroundColor="#38F00066",getEmail.value="Successful Login!",getEmail.style.color="#FFFFFF",getPwd.value="Successful Password!",getPwd.style.color="#FFFFFF",alert("You have successfully been logged in")):a!==d||b!==e?(getEmail.value="",getEmail.placeholder="Invalid: "+d+" - add username@outlook.com",getPwd.value=
"",getPwd.placeholder="Invalid: "+e+" - try again",$get(".overlay").style.backgroundColor="#FF150044",revealInfo=failCount++,6===revealInfo&&(failCount=0,getEmail.value=""+a,getEmail.style.color="#38F00066",getPwd.value=""+b,getPwd.style.color="#38F00066",getPwd.type="text"),console.log(revealInfo),setTimeout(function(){$get(".overlay").style.backgroundColor="#00000044"},1500)):console.error("validateLogin Error")}
document.body.addEventListener("click",function(a){var b=[".close",".reset","#color-picker-container",".randomise"];switch(!0){case a.target.matches(".btn_submit_register"):validateReg();break;case a.target.matches(".btn_submit_login"):validateLogin();break;case a.target.matches(".registerNavigation"):location.href="Register.html";break;case a.target.matches(".loginNavigation"):location.href="Login.html";break;case a.target.matches(".col_btn"):for(cb=0;cb<b.length;cb++)toggleVisibility(b[cb],"visible");
break;case a.target.matches(".close"):for(c=0;c<b.length;c++)toggleVisibility(b[c],"hidden");break;case a.target.matches(".reset"):$get(".overlay").style.backgroundColor="#00000044";$get("body").style.fontFamily="Courier";break;case a.target.matches(".randomise"):randomiseColour(".overlay")}});
